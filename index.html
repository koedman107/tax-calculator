<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>114年度夫妻報稅試算系統 (精確優化版)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8fafc; color: #0f172a; padding-bottom: 160px; }
        .card-shadow { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 10px; }
        .bottom-bar-enter { transform: translateY(100%); animation: slideUp 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards; }
        @keyframes slideUp { to { transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        const App = () => {
            // 114年度 (2025申報) 參數設定
            const CONSTANTS = {
                EXEMPTION: 97000,
                EXEMPTION_ELDER: 145500,
                STD_DEDUCTION_SINGLE: 131000,
                STD_DEDUCTION_COUPLE: 262000,
                SALARY_DEDUCTION_FIXED_MAX: 228000,
                SAVINGS_LIMIT: 270000,
                DIVIDEND_DEDUCT_RATE: 0.085,
                DIVIDEND_DEDUCT_LIMIT: 80000,
                BASIC_LIVING: 213000,
                TAX_BRACKETS: [
                    { limit: 590000, rate: 0.05, diff: 0 },
                    { limit: 1330000, rate: 0.12, diff: 41300 },
                    { limit: 2660000, rate: 0.20, diff: 147700 },
                    { limit: 4980000, rate: 0.30, diff: 413700 },
                    { limit: Infinity, rate: 0.40, diff: 911700 },
                ]
            };

            const initialPerson = {
                salary: 0,
                salaryExp: 0,
                savings: 0,
                stock: 0,
                propGain: 0, 
                propLoss: 0, 
                depsNormal: 0,
                depsElder: 0,
                itemized: { charity: 0, insurance: 0, medical: 0, loan: 0, rent: 0 }
            };

            const [personA, setPersonA] = useState({ ...initialPerson, salary: 1200000 });
            const [personB, setPersonB] = useState({ ...initialPerson, salary: 600000 });
            const [modalType, setModalType] = useState(null); 

            const format = (n) => new Intl.NumberFormat('zh-TW').format(Math.round(n));
            const safeNum = (v) => {
                const n = parseInt(String(v).replace(/[^0-9]/g, ''));
                return isNaN(n) ? 0 : n;
            };

            const getTaxByNet = (net) => {
                const b = CONSTANTS.TAX_BRACKETS.find(x => net <= x.limit) || CONSTANTS.TAX_BRACKETS[4];
                return { 
                    rate: (b.rate * 100).toFixed(0) + '%', 
                    tax: Math.max(0, net * b.rate - b.diff),
                    bracket: b
                };
            };

            const calcBasic = (p) => {
                // 修正：薪資扣除額不可超過個人薪資
                const expCap = Math.floor(p.salary * 0.03);
                const actualSalaryLimit = Math.min(p.salary, CONSTANTS.SALARY_DEDUCTION_FIXED_MAX);
                const finalSalDed = Math.max(actualSalaryLimit, Math.min(p.salaryExp, expCap));
                
                const propNet = Math.max(0, p.propGain - p.propLoss);
                const totalIncome = p.salary + p.savings + p.stock + propNet;
                const exemptions = (1 * CONSTANTS.EXEMPTION) + (p.depsNormal * CONSTANTS.EXEMPTION) + (p.depsElder * CONSTANTS.EXEMPTION_ELDER);
                const divCredit = Math.min(p.stock * CONSTANTS.DIVIDEND_DEDUCT_RATE, CONSTANTS.DIVIDEND_DEDUCT_LIMIT);
                const itemSum = Object.values(p.itemized).reduce((a, b) => a + b, 0);
                const hhCount = 1 + p.depsNormal + p.depsElder;
                return { totalIncome, finalSalDed, exemptions, divCredit, itemSum, hhCount, propNet, expCap };
            };

            const results = useMemo(() => {
                const bA = calcBasic(personA);
                const bB = calcBasic(personB);

                const getSinglePlan = (p, b) => {
                    const genDed = Math.max(CONSTANTS.STD_DEDUCTION_SINGLE, b.itemSum);
                    const savDed = Math.min(p.savings, CONSTANTS.SAVINGS_LIMIT);
                    const basicGap = Math.max(0, (b.hhCount * CONSTANTS.BASIC_LIVING) - (b.exemptions + genDed + savDed));
                    const net = Math.max(0, b.totalIncome - b.exemptions - genDed - b.finalSalDed - savDed - basicGap);
                    const { tax, rate } = getTaxByNet(net);
                    return { 
                        tax: Math.max(0, tax - b.divCredit), net, rate,
                        details: { totalIncome: b.totalIncome, exemptions: b.exemptions, genDed, specDed: b.finalSalDed + savDed, basicGap, divCredit: b.divCredit }
                    };
                };
                const sA = getSinglePlan(personA, bA);
                const sB = getSinglePlan(personB, bB);

                const totalEx = bA.exemptions + bB.exemptions;
                const totalGen = Math.max(CONSTANTS.STD_DEDUCTION_COUPLE, bA.itemSum + bB.itemSum);
                const totalSavDed = Math.min(personA.savings + personB.savings, CONSTANTS.SAVINGS_LIMIT);
                const totalHH = bA.hhCount + bB.hhCount;
                const totalBasicGap = Math.max(0, (totalHH * CONSTANTS.BASIC_LIVING) - (totalEx + totalGen + totalSavDed));
                const totalDivCredit = Math.min((personA.stock + personB.stock) * CONSTANTS.DIVIDEND_DEDUCT_RATE, CONSTANTS.DIVIDEND_DEDUCT_LIMIT);

                const getJointPlan = (main, sub, mainB, subB) => {
                    // 薪資分開計稅
                    const subSalNet = Math.max(0, sub.salary - CONSTANTS.EXEMPTION - subB.finalSalDed);
                    const subSalTax = getTaxByNet(subSalNet).tax;
                    
                    const mainOtherIncome = mainB.totalIncome + (subB.totalIncome - sub.salary);
                    const mainNet = Math.max(0, mainOtherIncome - (totalEx - CONSTANTS.EXEMPTION) - totalGen - mainB.finalSalDed - totalSavDed - totalBasicGap);
                    const { tax: mainTax, rate } = getTaxByNet(mainNet);
                    
                    const finalTax = Math.max(0, (subSalTax + mainTax) - totalDivCredit);
                    return { 
                        tax: finalTax, rate,
                        details: {
                            subSalPart: { net: subSalNet, tax: subSalTax },
                            mainPart: { income: mainOtherIncome, ex: (totalEx - CONSTANTS.EXEMPTION), gen: totalGen, spec: mainB.finalSalDed + totalSavDed, gap: totalBasicGap, net: mainNet, tax: mainTax },
                            divCredit: totalDivCredit
                        }
                    };
                };

                const p1 = { id: 1, title: '夫妻分開申報', tax: sA.tax + sB.tax, rate: '獨立級距', data: { sA, sB } };
                const p2 = { id: 2, title: '薪資合併(A為主)', ...getJointPlan(personA, personB, bA, bB) };
                const p3 = { id: 3, title: '薪資合併(B為主)', ...getJointPlan(personB, personA, bB, bA) };

                const all = [p1, p2, p3];
                const min = Math.min(...all.map(x => x.tax));
                return all.map(x => ({ ...x, best: x.tax === min }));
            }, [personA, personB]);

            const updateField = (id, field, val) => {
                const setter = id === 'A' ? setPersonA : setPersonB;
                setter(prev => ({ ...prev, [field]: safeNum(val) }));
            };

            const updateItemized = (id, key, val) => {
                const setter = id === 'A' ? setPersonA : setPersonB;
                setter(prev => ({ ...prev, itemized: { ...prev.itemized, [key]: safeNum(val) } }));
            };

            return (
                <div className="min-h-screen">
                    <div className="max-w-6xl mx-auto px-6 py-12 md:py-20">
                        <header className="mb-16 border-l-[12px] border-slate-900 pl-10">
                            <h1 className="text-6xl font-[900] text-slate-900 tracking-tighter leading-none mb-4">114年度夫妻報稅試算</h1>
                            <p className="text-xl font-bold text-slate-500">視覺強化、精確排版、自動最優方案推薦</p>
                        </header>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-12">
                            {['A', 'B'].map(id => {
                                const user = id === 'A' ? personA : personB;
                                const b = calcBasic(user);
                                return (
                                    <div key={id} className="bg-white rounded-[3rem] p-10 card-shadow border border-slate-200 relative overflow-hidden">
                                        <div className="flex justify-between items-center mb-10 pb-6 border-b-4 border-slate-900">
                                            <h2 className="text-4xl font-[900] text-slate-900 italic tracking-tighter">Person {id}</h2>
                                            <div className="text-right">
                                                <p className="text-xs font-[900] text-slate-400 uppercase tracking-widest">個人免稅額</p>
                                                <p className="text-2xl font-[900] text-slate-900">${format(b.exemptions)}</p>
                                            </div>
                                        </div>

                                        <div className="space-y-8">
                                            <section>
                                                <div className="flex justify-between mb-3">
                                                    <label className="text-sm font-[900] text-slate-900 uppercase">1. 薪資所得收入</label>
                                                    <span className="text-[10px] text-white font-bold bg-slate-900 px-2.5 py-1 rounded-full">標扣上限: $22.8萬</span>
                                                </div>
                                                <TaxInput value={user.salary} onChange={v => updateField(id, 'salary', v)} />
                                                <div className="mt-4 p-5 bg-blue-50 rounded-2xl border-2 border-blue-100">
                                                    <div className="flex justify-between mb-2">
                                                        <label className="text-[11px] font-[900] text-blue-700">薪資核實費用 (3% 上限: ${format(b.expCap)})</label>
                                                    </div>
                                                    <TaxInput value={user.salaryExp} onChange={v => updateField(id, 'salaryExp', v)} small isBlue />
                                                    <p className="mt-2 text-[10px] text-blue-500 font-bold italic">※ 薪資特別扣除額以薪資收入為限</p>
                                                </div>
                                            </section>

                                            <section>
                                                <label className="text-sm font-[900] text-slate-900 mb-3 block">2. 股票股利收入 (8.5% 抵減)</label>
                                                <TaxInput value={user.stock} onChange={v => updateField(id, 'stock', v)} />
                                            </section>

                                            <section>
                                                <label className="text-sm font-[900] text-slate-900 mb-3 block">3. 儲蓄投資利息 (全戶上限 27萬)</label>
                                                <TaxInput value={user.savings} onChange={v => updateField(id, 'savings', v)} />
                                            </section>

                                            <section className="grid grid-cols-2 gap-5">
                                                <div>
                                                    <label className="text-sm font-[900] text-slate-900 mb-2 block">4. 財產交易所得</label>
                                                    <TaxInput value={user.propGain} onChange={v => updateField(id, 'propGain', v)} small />
                                                </div>
                                                <div>
                                                    <label className="text-sm font-[900] text-slate-900 mb-2 block">財產交易損失</label>
                                                    <TaxInput value={user.propLoss} onChange={v => updateField(id, 'propLoss', v)} small />
                                                </div>
                                            </section>

                                            <div className="grid grid-cols-2 gap-5 pt-4">
                                                <button onClick={() => setModalType(`dep${id}`)} className="py-5 bg-slate-900 text-white rounded-3xl hover:bg-slate-800 transition-all text-center">
                                                    <p className="text-[10px] font-bold text-slate-400 uppercase mb-1">扶養親屬</p>
                                                    <p className="text-2xl font-[900]">{user.depsNormal + user.depsElder} 人</p>
                                                </button>
                                                <button onClick={() => setModalType(`item${id}`)} className="py-5 border-4 border-slate-900 text-slate-900 rounded-3xl hover:bg-slate-50 transition-all text-center">
                                                    <p className="text-[10px] font-bold text-slate-400 uppercase mb-1">一般扣除額</p>
                                                    <p className="text-2xl font-[900]">{b.itemSum > CONSTANTS.STD_DEDUCTION_SINGLE ? '採列舉' : '採標扣'}</p>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>

                    <div className="fixed bottom-0 left-0 right-0 z-[60] bg-slate-900/95 backdrop-blur-xl border-t border-slate-800 p-6 md:p-8 bottom-bar-enter shadow-2xl">
                        <div className="max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-8">
                            <div className="hidden md:block shrink-0">
                                <p className="text-white text-2xl font-[900] italic">最佳方案試算</p>
                                <p className="text-slate-500 text-[10px] font-black tracking-widest uppercase">點擊查看計算公式與明細</p>
                            </div>
                            <div className="flex-grow grid grid-cols-3 gap-4 md:gap-8 w-full">
                                {results.map(plan => (
                                    <div 
                                        key={plan.id} 
                                        onClick={() => setModalType(`plan${plan.id}`)}
                                        className={`group relative p-4 md:p-5 rounded-3xl transition-all border-4 cursor-pointer ${plan.best ? 'bg-indigo-600 border-indigo-400 scale-105 shadow-indigo-500/20 shadow-2xl' : 'bg-slate-800 border-slate-700 hover:border-slate-500'}`}
                                    >
                                        <div className="flex justify-between items-center mb-1">
                                            <span className="text-[10px] md:text-[11px] font-black text-white/80 uppercase">{plan.title}</span>
                                            {plan.best && <span className="bg-white text-indigo-600 text-[10px] font-black px-2 py-0.5 rounded-full">最省方案</span>}
                                        </div>
                                        <div className="flex flex-col md:flex-row md:justify-between md:items-baseline">
                                            <span className="text-xl md:text-3xl font-[900] text-white">${format(plan.tax)}</span>
                                            <span className="text-[10px] text-white/40 font-black">{plan.rate}</span>
                                        </div>
                                        <div className="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                            <svg className="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    {modalType && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/80 backdrop-blur-sm">
                            <div className="bg-white rounded-[3.5rem] w-full max-w-2xl shadow-2xl relative border-t-[12px] border-slate-900 overflow-hidden animate-in fade-in zoom-in duration-200">
                                <div className="p-10 pb-4 flex justify-between items-center">
                                    <h3 className="text-3xl font-[900] text-slate-900 tracking-tighter uppercase">
                                        {modalType.startsWith('plan') ? '稅額計算明細' : modalType.includes('dep') ? '扶養親屬設定' : '列舉扣除額'}
                                    </h3>
                                    <button onClick={() => setModalType(null)} className="p-3 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors">
                                        <svg className="w-6 h-6 text-slate-900" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" d="M6 18L18 6M6 6l12 12"></path></svg>
                                    </button>
                                </div>
                                <div className="p-10 pt-2 space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar">
                                    {modalType.startsWith('plan') ? (
                                        <PlanDetailView plan={results[parseInt(modalType.replace('plan',''))-1]} format={format} />
                                    ) : modalType.includes('dep') ? (
                                        <>
                                            <ModalInput label="一般扶養親屬 (每人 $97,000)" value={(modalType.includes('A') ? personA : personB).depsNormal} onChange={v => updateField(modalType.includes('A') ? 'A' : 'B', 'depsNormal', v)} count />
                                            <ModalInput label="70歲以上扶養 (每人 $145,500)" value={(modalType.includes('A') ? personA : personB).depsElder} onChange={v => updateField(modalType.includes('A') ? 'A' : 'B', 'depsElder', v)} count />
                                        </>
                                    ) : (
                                        <>
                                            <ModalInput label="慈善捐贈" value={(modalType.includes('A') ? personA : personB).itemized.charity} onChange={v => updateItemized(modalType.includes('A') ? 'A' : 'B', 'charity', v)} />
                                            <ModalInput label="人身保險費" value={(modalType.includes('A') ? personA : personB).itemized.insurance} onChange={v => updateItemized(modalType.includes('A') ? 'A' : 'B', 'insurance', v)} />
                                            <ModalInput label="醫藥及生育費" value={(modalType.includes('A') ? personA : personB).itemized.medical} onChange={v => updateItemized(modalType.includes('A') ? 'A' : 'B', 'medical', v)} />
                                            <ModalInput label="購屋利息" value={(modalType.includes('A') ? personA : personB).itemized.loan} onChange={v => updateItemized(modalType.includes('A') ? 'A' : 'B', 'loan', v)} />
                                            <ModalInput label="房屋租金" value={(modalType.includes('A') ? personA : personB).itemized.rent} onChange={v => updateItemized(modalType.includes('A') ? 'A' : 'B', 'rent', v)} />
                                        </>
                                    )}
                                </div>
                                <div className="p-10 pt-4 bg-slate-50 border-t">
                                    <button onClick={() => setModalType(null)} className="w-full py-5 bg-slate-900 text-white rounded-[2rem] font-[900] text-xl shadow-lg hover:bg-slate-800 transition-all">確認</button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const PlanDetailView = ({ plan, format }) => {
            const Row = ({ label, val, sub, minus, bold, indent, highlight }) => (
                <div className={`flex justify-between items-baseline py-3 ${indent ? 'pl-6' : ''} ${bold ? 'border-t-2 border-slate-200 mt-2' : ''} ${highlight ? 'bg-indigo-50 px-4 rounded-xl' : ''}`}>
                    <div>
                        <span className={`text-slate-700 ${bold ? 'font-[900] text-lg' : 'font-bold text-sm'}`}>{label}</span>
                        {sub && <p className="text-[10px] text-slate-400 font-bold">{sub}</p>}
                    </div>
                    <span className={`${bold ? 'font-[900] text-xl text-slate-900' : 'font-bold text-slate-600'} ${minus ? 'text-red-500' : ''}`}>
                        {minus ? '-' : ''}${format(val)}
                    </span>
                </div>
            );

            if (plan.id === 1) {
                return (
                    <div className="space-y-8">
                        <p className="text-xs text-slate-400 font-bold px-4">公式：淨額 = 總額 - 免稅 - 一般扣除 - 特扣 - 基生差</p>
                        {['sA', 'sB'].map(key => {
                            const d = plan.data[key].details;
                            return (
                                <div key={key} className="p-6 bg-slate-50 rounded-[2.5rem] border border-slate-200">
                                    <h4 className="text-xl font-[900] mb-4 italic uppercase">Person {key === 'sA' ? 'A' : 'B'}</h4>
                                    <Row label="綜合所得總額" val={d.totalIncome} />
                                    <Row label="免稅額" val={d.exemptions} minus />
                                    <Row label="一般扣除額" val={d.genDed} minus sub="標扣或列舉取大者" />
                                    <Row label="特別扣除額" val={d.specDed} minus sub="含薪資扣除(以薪收為限)、利息扣除" />
                                    <Row label="基本生活費差額" val={d.basicGap} minus />
                                    <Row label="綜合所得淨額" val={plan.data[key].net} bold highlight />
                                    <div className="mt-4 p-4 bg-white rounded-2xl border-2 border-slate-200 flex justify-between items-center">
                                        <span className="font-black text-slate-500 uppercase text-xs tracking-widest">應納稅額 (已抵減)</span>
                                        <span className="text-2xl font-[900] text-indigo-600">${format(plan.data[key].tax)}</span>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                );
            }

            const { subSalPart, mainPart, divCredit } = plan.details;
            return (
                <div className="space-y-4">
                    <div className="p-6 bg-amber-50 rounded-[2.5rem] border border-amber-200">
                        <h4 className="text-lg font-[900] mb-2 text-amber-900 underline decoration-4">薪資分開計稅部分</h4>
                        <Row label="分開計稅薪資總額" val={subSalPart.net + 97000 + (subSalPart.net > 0 ? 228000 : 0)} sub="試算顯示淨額前" />
                        <Row label="減：免稅額及薪資特扣" val={subSalPart.net > 0 ? (97000 + 228000) : 0} minus />
                        <Row label="分開計稅薪資淨額" val={subSalPart.net} bold highlight />
                        <Row label="對應應納稅額" val={subSalPart.tax} />
                    </div>
                    <div className="p-6 bg-slate-50 rounded-[2.5rem] border border-slate-200">
                        <h4 className="text-lg font-[900] mb-2">其餘合併計稅部分</h4>
                        <Row label="其餘所得總額" val={mainPart.income} />
                        <Row label="免稅額 (扣除薪資申報人)" val={mainPart.ex} minus />
                        <Row label="一般扣除額 (全戶)" val={mainPart.gen} minus />
                        <Row label="特別扣除額 (含利息及主報人薪扣)" val={mainPart.spec} minus />
                        <Row label="基本生活費差額" val={mainPart.gap} minus />
                        <Row label="其餘所得淨額" val={mainPart.net} bold highlight />
                        <Row label="對應應納稅額" val={mainPart.tax} />
                    </div>
                    <Row label="全戶股利抵減額" val={divCredit} minus />
                    <div className="p-8 bg-indigo-600 rounded-[2.5rem] text-white flex justify-between items-center mt-6">
                        <span className="text-xl font-black">最後應繳稅額</span>
                        <span className="text-4xl font-[900]">${format(plan.tax)}</span>
                    </div>
                </div>
            );
        };

        const TaxInput = ({ value, onChange, small, isBlue }) => {
            const [localValue, setLocalValue] = useState(value === 0 ? '' : value);
            useEffect(() => { setLocalValue(value === 0 ? '' : value); }, [value]);
            return (
                <div className="relative">
                    <span className="absolute left-5 top-1/2 -translate-y-1/2 text-xs font-black text-slate-400">NT$</span>
                    <input 
                        type="text" 
                        inputMode="numeric"
                        value={localValue}
                        onChange={e => setLocalValue(e.target.value.replace(/[^0-9]/g, ''))}
                        onBlur={() => onChange(localValue)}
                        className={`w-full bg-slate-100 border-4 border-transparent rounded-2xl pl-16 pr-5 font-[900] text-slate-900 outline-none transition-all focus:bg-white focus:border-slate-900 ${small ? 'py-3 text-lg' : 'py-5 text-2xl'} ${isBlue ? 'text-blue-700' : ''}`}
                        placeholder="0"
                    />
                </div>
            );
        };

        const ModalInput = ({ label, value, onChange, count }) => {
            const [localValue, setLocalValue] = useState(value === 0 ? '' : value);
            useEffect(() => { setLocalValue(value === 0 ? '' : value); }, [value]);
            return (
                <div className="space-y-2">
                    <label className="block text-xs font-black text-slate-500 uppercase tracking-widest">{label}</label>
                    <div className="relative">
                        <input 
                            type="text" 
                            inputMode="numeric"
                            value={localValue}
                            onChange={e => setLocalValue(e.target.value.replace(/[^0-9]/g, ''))}
                            onBlur={() => onChange(localValue)}
                            className="w-full bg-slate-50 border-4 border-slate-100 rounded-2xl px-5 py-4 font-[900] text-slate-900 text-xl focus:bg-white focus:border-slate-900 outline-none transition-all"
                            placeholder="0"
                        />
                        {count && <span className="absolute right-5 top-1/2 -translate-y-1/2 text-sm font-black text-slate-400">人</span>}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>
